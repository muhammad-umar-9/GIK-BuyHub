<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login as Vendor - Restaurant Project</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>Restaurant Project</header>

<div class="login-container">
    <h2>Vendor Login</h2>
    <p class="subtitle">Sign in to continue your orders.</p>

    <input type="email" id="vendor-user-input" placeholder="Gmail address">
    <input type="password" id="vendor-password-input" placeholder="Password">
    <div id="vendor-error-message" class="error-message"></div>

    <button class="main-btn" onclick="redirectToVendorLanding()">Continue</button>

    <div class="footer-text">
        By proceeding, you accept our Terms & Privacy Policy.
    </div>

    <div class="account-switch">
        Don't have an account? <a href="vendor_sign_up.html">Sign up</a>
    </div>
</div>

<script>
function redirectToVendorLanding() {
    const email = document.getElementById('vendor-user-input').value.trim();
    const password = document.getElementById('vendor-password-input').value.trim();
    const errorDiv = document.getElementById('vendor-error-message');

    const storedUser = JSON.parse(localStorage.getItem(email));

    if (!email || !password) {
        errorDiv.textContent = "Please enter both email and password.";
    } else if (!email.includes("@gmail.com")) {
        errorDiv.textContent = "Only Gmail addresses are allowed.";
    } else if (!storedUser || storedUser.password !== password || storedUser.type !== 'vendor') {
        errorDiv.textContent = "Account not found. Please sign up first.";
    } else {
        errorDiv.textContent = "";
        window.location.href = "vendor_landing_page.html";
    }
}
</script>

</body>
</html>
